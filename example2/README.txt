В этом примере нам нужно одновременно запустить два файла receiver, находящихся в папке примера

После этого начинаем запускать файл sender, из папки


После запуска двух обработчиков (наши receiver-ы ) задачи из брокера будут делиться между ними в порядке их подписки на нашу очередь задач.
Важно понимать, что в данном случае наши сообщения (body) это отдельные задачи, а сами сообщения это последовательность байтов type <bytes> в питоне)


Сам процесс можем назвать циклическим распределением.
Как только появляется задача от брокера, она адресуется очередному получателю.

Таким образом, все подписчики получат одинаковое количество сообщений. Такой способ распределения сообщений называется циклический [алгоритм round-robin].
